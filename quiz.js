const questionsDE = [
    {
        question: "Was ist Alchemie?",
        answers: [
            "Eine wissenschaftliche Disziplin der Mathematik",
            "Die Kunst, gewöhnliche Metalle in Gold zu verwandeln",
            "Die Herstellung von Kräutermischungen für medizinische Zwecke",
            "Ein mystisches Kartenspiel"
        ],
        correctAnswer: 1
    },
    {
        question: "Welches Ziel verfolgten die meisten Alchemisten im Mittelalter?",
        answers: [
            "Den Stein der Weisen zu finden",
            "Eine universelle Sprache zu entwickeln",
            "Die Berechnung von Planetenkonstellationen zu perfektionieren",
            "Die Herstellung von Antibiotika"
        ],
        correctAnswer: 0
    },
    {
        question: "Was ist der Stein der Weisen in der Alchemie?",
        answers: [
            "Ein mythisches Werkzeug, um Krankheiten zu heilen",
            "Ein Stein, der Gold anziehen kann",
            "Ein Symbol der Unsterblichkeit und Weisheit",
            "Eine Metapher für die Mondphasen"
        ],
        correctAnswer: 2
    },
    {
        question: "Welches der folgenden Metalle galt als Hauptbestandteil in alchemistischen Experimenten?",
        answers: [
            "Blei",
            "Kupfer",
            "Quecksilber",
            "Silber"
        ],
        correctAnswer: 2
    },
    {
        question: "Welche Rolle spielt Schwefel in der Alchemie?",
        answers: [
            "Es ist ein Symbol für Reinigung und Erleuchtung",
            "Es ist ein toxisches Gas, das Alchemisten vermieden",
            "Es wurde verwendet, um magische Tränke herzustellen",
            "Es galt als der 'Vater' der Metalle"
        ],
        correctAnswer: 0
    },
    {
        question: "Welches Element wurde in der Alchemie als 'Sal' bezeichnet?",
        answers: [
            "Salz",
            "Erde",
            "Feuer",
            "Luft"
        ],
        correctAnswer: 0
    },
    {
        question: "Welches Ziel hatte die Alchemie neben der Goldherstellung?",
        answers: [
            "Medizinische Heilmittel zu entwickeln",
            "Magische Rituale zu perfektionieren",
            "Die Philosophie des Lebens zu erforschen",
            "Astronomische Vorhersagen zu treffen"
        ],
        correctAnswer: 0
    },
    {
        question: "Welche Verbindung besteht zwischen Alchemie und moderner Chemie?",
        answers: [
            "Alchemie wird als Vorläufer der modernen Chemie angesehen",
            "Es gibt keine Verbindung, da Alchemie als Aberglaube gilt",
            "Chemie widerlegt die Prinzipien der Alchemie",
            "Chemie basiert direkt auf den Gesetzen der Alchemie"
        ],
        correctAnswer: 0
    },
    {
        question: "Welches Symbol wird oft mit der Alchemie in Verbindung gebracht?",
        answers: [
            "Der Drache",
            "Der Löwe",
            "Die Schlange, die ihren eigenen Schwanz frisst (Ouroboros)",
            "Die Eule"
        ],
        correctAnswer: 2
    },
    {
        question: "Welche Substanz war in der Alchemie als „Prima Materia“ bekannt?",
        answers: [
            "Die Grundsubstanz, aus der alles besteht",
            "Ein seltenes Metall, das nur Alchemisten herstellen konnten",
            "Eine mythologische Flüssigkeit mit heilender Kraft",
            "Ein Pulver, das Licht absorbiert"
        ],
        correctAnswer: 0
    },
    {
        question: "Wann wurde \"Der Alchemist\" in Basel eröffnet?",
        answers: [
            "Mai 2020",
            "Juni 2021",
            "August 2022",
            "April 2019"
        ],
        correctAnswer: 1
    },
    {
        question: "Was bringt unsere Cocktails zum Rauchen?",
        answers: [
            "Flüssiger Stickstoff",
            "Trockeneis",
            "Magische Kräuter",
            "Räucherholz"
        ],
        correctAnswer: 1
    },
    {
        question: "Wie heißt der Schweizer Alchemist, nach dem einer unserer Drinks benannt ist?",
        answers: [
            "Albert Einstein",
            "Paracelsus",
            "Wilhelm Tell",
            "Johann Wolfgang von Goethe"
        ],
        correctAnswer: 1
    },
    {
        question: "Welches Getränk genoss Van Gogh während seines Rausches, als er sich sein Ohr abschnitt?",
        answers: [
            "Whisky",
            "Gin",
            "Absinth",
            "Tequila"
        ],
        correctAnswer: 2
    },
    {
        question: "Was kann man bei uns im 'Restaurant Alchemist' nicht bestellen?",
        answers: [
            "Cocktails",
            "Softgetränke",
            "Wein",
            "Bier"
        ],
        correctAnswer: 1
    },
    {
        question: "Was ist das Essenskonzept im 'Den Alchemist'?",
        answers: [
            "À la carte",
            "Buffet",
            "Sharing Food",
            "Fine Dining"
        ],
        correctAnswer: 2
    }
];

const questionsEN = [
    {
        question: "What is alchemy?",
        answers: [
            "A mathematical discipline",
            "The art of turning base metals into gold",
            "The creation of herbal mixtures for medicinal purposes",
            "A mystical card game"
        ],
        correctAnswer: 1
    },
    {
        question: "What was the main goal of most alchemists in the Middle Ages?",
        answers: [
            "To find the Philosopher's Stone",
            "To develop a universal language",
            "To perfect the calculation of planetary constellations",
            "To produce antibiotics"
        ],
        correctAnswer: 0
    },
    {
        question: "What is the Philosopher's Stone in alchemy?",
        answers: [
            "A mythical tool to heal diseases",
            "A stone that can attract gold",
            "A symbol of immortality and wisdom",
            "A metaphor for moon phases"
        ],
        correctAnswer: 2
    },
    {
        question: "Which of the following metals was considered key in alchemical experiments?",
        answers: [
            "Lead",
            "Copper",
            "Mercury",
            "Silver"
        ],
        correctAnswer: 2
    },
    {
        question: "What role does sulfur play in alchemy?",
        answers: [
            "It is a symbol of purification and enlightenment",
            "It is a toxic gas that alchemists avoided",
            "It was used to make magical potions",
            "It was considered the 'father' of metals"
        ],
        correctAnswer: 0
    },
    {
        question: "Which element was referred to as 'Sal' in alchemy?",
        answers: [
            "Salt",
            "Earth",
            "Fire",
            "Air"
        ],
        correctAnswer: 0
    },
    {
        question: "What was another goal of alchemy besides gold-making?",
        answers: [
            "To develop medicinal remedies",
            "To perfect magical rituals",
            "To explore the philosophy of life",
            "To make astronomical predictions"
        ],
        correctAnswer: 0
    },
    {
        question: "What is the connection between alchemy and modern chemistry?",
        answers: [
            "Alchemy is seen as a precursor to modern chemistry",
            "There is no connection, as alchemy is considered superstition",
            "Chemistry disproves the principles of alchemy",
            "Chemistry is directly based on the laws of alchemy"
        ],
        correctAnswer: 0
    },
    {
        question: "Which symbol is often associated with alchemy?",
        answers: [
            "The dragon",
            "The lion",
            "The snake eating its own tail (Ouroboros)",
            "The owl"
        ],
        correctAnswer: 2
    },
    {
        question: "What was 'Prima Materia' known as in alchemy?",
        answers: [
            "The fundamental substance from which everything is made",
            "A rare metal that only alchemists could create",
            "A mythological liquid with healing powers",
            "A powder that absorbs light"
        ],
        correctAnswer: 0
    },
    {
        question: "When did 'The Alchemist' in Basel open?",
        answers: [
            "May 2020",
            "June 2021",
            "August 2022",
            "April 2019"
        ],
        correctAnswer: 1
    },
    {
        question: "What makes our cocktails smoke?",
        answers: [
            "Liquid nitrogen",
            "Dry ice",
            "Magical herbs",
            "Smoked wood"
        ],
        correctAnswer: 1
    },
    {
        question: "Which Swiss alchemist is one of our drinks named after?",
        answers: [
            "Albert Einstein",
            "Paracelsus",
            "William Tell",
            "Johann Wolfgang von Goethe"
        ],
        correctAnswer: 1
    },
    {
        question: "What drink did Van Gogh famously consume during his episode when he cut off his ear?",
        answers: [
            "Whiskey",
            "Gin",
            "Absinthe",
            "Tequila"
        ],
        correctAnswer: 2
    },
    {
        question: "What can't you order at 'The Alchemist'?",
        answers: [
            "Cocktails",
            "Soft drinks",
            "Wine",
            "Beer"
        ],
        correctAnswer: 1
    },
    {
        question: "What is the dining concept at 'The Alchemist'?",
        answers: [
            "À la carte",
            "Buffet",
            "Sharing Food",
            "Fine Dining"
        ],
        correctAnswer: 2
    }
];

let currentQuestionIndex = 0;
let score = 0;
let timer;
let timeLimit = 13; // Sekunden
let remainingTime = timeLimit;
let leaderboard = [];
let selectedLanguage = 'de'; // Standardmäßig Deutsch
let questions = questionsDE; // Standardmäßig deutsche Fragen

window.onload = function() {
    document.getElementById('rules').style.display = 'block';
}

function selectLanguage(language) {
    selectedLanguage = language;
    if (language === 'en') {
        questions = questionsEN;
    } else {
        questions = questionsDE;
    }
    startQuiz();
}

function startQuiz() {
    document.getElementById('rules').style.display = 'none';
    document.getElementById('quiz-container').style.display = 'block';
    loadQuestion();
}

function loadQuestion() {
    const questionObj = questions[currentQuestionIndex];
    document.getElementById('question').textContent = questionObj.question;
    
    const answersDiv = document.getElementById('answers');
    answersDiv.innerHTML = '';
    questionObj.answers.forEach((answer, index) => {
        const button = document.createElement('button');
        button.textContent = answer;
        button.onclick = () => checkAnswer(index);
        answersDiv.appendChild(button);
    });

    document.getElementById('result').style.display = 'none';
    document.getElementById('nextQuestion').style.display = 'none';
    remainingTime = timeLimit;
    document.getElementById('timer').textContent = `Zeit: ${remainingTime}s`;
    startTimer();
}

function startTimer() {
    timer = setInterval(() => {
        remainingTime--;
        document.getElementById('timer').textContent = `Zeit: ${remainingTime}s`;
        if (remainingTime <= 0) {
            clearInterval(timer);
            showResult(null);
        }
    }, 1000);
}

function checkAnswer(selectedAnswer) {
    clearInterval(timer);
    const questionObj = questions[currentQuestionIndex];
    if (selectedAnswer === questionObj.correctAnswer) {
        score += remainingTime;  // Die verbleibenden Sekunden als Punktzahl hinzufügen
        showResult(true);
    } else {
        showResult(false, questionObj.correctAnswer);
    }
}

function showResult(isCorrect, correctAnswerIndex = null) {
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    if (isCorrect) {
        resultDiv.textContent = selectedLanguage === 'en' ? "Correct answer!" : "Richtige Antwort!";
        resultDiv.classList.add('correct');
    } else {
        resultDiv.textContent = selectedLanguage === 'en'
            ? `Wrong answer! The correct answer is: ${questions[currentQuestionIndex].answers[correctAnswerIndex]}`
            : `Falsche Antwort! Die richtige Antwort ist: ${questions[currentQuestionIndex].answers[correctAnswerIndex]}`;
        resultDiv.classList.add('wrong');
    }
    document.getElementById('nextQuestion').style.display = 'block';
}

function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
        loadQuestion();
    } else {
        endQuiz();
    }
}

function endQuiz() {
    document.getElementById('quiz-container').style.display = 'none';
    document.getElementById('finalScore').textContent = score;
    document.getElementById('nameForm').style.display = 'block';
}

function submitScore() {
    const playerName = document.getElementById('playerName').value;
    leaderboard.push({ name: playerName, score: score });
    leaderboard.sort((a, b) => b.score - a.score);
    document.getElementById('nameForm').style.display = 'none';
    showLeaderboard();
}

function showLeaderboard() {
    document.getElementById('leaderboard').style.display = 'block';
    const leaderboardList = document.getElementById('leaderboardList');
    leaderboardList.innerHTML = '';
    leaderboard.forEach((player, index) => {
        const li = document.createElement('li');
        li.textContent = `${index + 1}. ${player.name} - ${player.score} ${selectedLanguage === 'en' ? 'points' : 'Punkte'}`;
        leaderboardList.appendChild(li);
    });
}

function restartQuiz() {
    currentQuestionIndex = 0;
    score = 0;
    document.getElementById('leaderboard').style.display = 'none';
    document.getElementById('rules').style.display = 'block';
}
